"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,s,a=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)s[n]=str(n,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&s.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var e,t="StripeCheckout.require".split("."),n=t[t.length-1],r=this;for(e=0;e<t.length-1;e++)r=r[t[e]]=r[t[e]]||{};void 0===r[n]&&(r[n]=function(){var e={},t={},n=function(e,t){for(var n,r,i=[],o=0,s=(n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/")).length;o<s;o++)".."==(r=n[o])?i.pop():"."!=r&&""!=r&&i.push(r);return i.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")},i=function(o){return function(o,s){var a,u,c=n(s,o),l=n(c,"./index");if(a=t[c]||t[l])return a;if(u=e[c]||e[c=l])return a={id:c,exports:{}},t[c]=a.exports,u(a.exports,function(e){return i(e,r(c))},a),t[c]=a.exports;throw"module "+o+" not found"}(o,"")};return i.define=function(t){for(var n in t)e[n]=t[n]},i.modules=e,i.cache=t,i}.call())}(),StripeCheckout.require.define({"vendor/cookie":function(e,t,n){var r={},i=/\+/g;function o(e,t){e=e||{};for(var n in t)"object"==typeof source[n]?e[n]=o(e[n],source[n]):e[n]=source[n];return e}function s(e){return e}function a(e){return decodeURIComponent(e.replace(i," "))}function u(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return c.json?JSON.parse(e):e}catch(e){}}var c=r.set=r.get=function(e,t,n){if(void 0!==t){if("number"==typeof(n=o(n,c.defaults)).expires){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return t=c.json?JSON.stringify(t):String(t),document.cookie=[c.raw?e:encodeURIComponent(e),"=",c.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var l=c.raw?s:a,p=document.cookie.split("; "),h=e?void 0:{},f=0,d=p.length;f<d;f++){var m=p[f].split("="),y=l(m.shift()),g=l(m.join("="));if(e&&e===y){h=u(g);break}e||(h[y]=u(g))}return h};c.defaults={},r.remove=function(e,t){return void 0!==r.get(e)&&(r.set(e,"",o(t,{expires:-1})),!0)},n.exports=r}}),StripeCheckout.require.define({"vendor/ready":function(e,t,n){!function(e,t){void 0!==n?n.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this.domready=t()}(0,function(e){var t,n=[],r=document,i=r.documentElement,o=i.doScroll,s="DOMContentLoaded",a="addEventListener",u="onreadystatechange",c="readyState",l=(o?/^loaded|^c/:/^loaded|c/).test(r[c]);function p(e){for(l=1;e=n.shift();)e()}return r[a]&&r[a](s,t=function(){r.removeEventListener(s,t,!1),p()},!1),o&&r.attachEvent(u,t=function(){/^c/.test(r[c])&&(r.detachEvent(u,t),p())}),e=o?function(t){self!=top?l?t():n.push(t):function(){try{i.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){l?e():n.push(e)}})}}),function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,i,o,s;for(r=this.length,n=i=o=t||0,s=r;o<=s?i<s:i>s;n=o<=s?++i:--i)if(this[n]===e)return n;return-1})}.call(this),StripeCheckout.require.define({"lib/helpers":function(e,t,n){(function(){var e,t,r;r=function(e){return function(){var n;return(n=t.userAgent.match(e))&&parseInt(n[1])}},e=function(e){return function(){return e()&&!t.isWindowsPhone()}},t={userAgent:window.navigator.userAgent,escape:function(e){return e&&(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},sanitizeURL:function(e){var n,r,i,o,s;if(e){for(e=t.trim(e),r=!1,i=0,o=(n=["data:","http:","https:"]).length;i<o;i++)if(s=n[i],0===e.indexOf(s)){r=!0;break}return r?encodeURI(e):null}},iOSVersion:r(/(?:iPhone OS |iPad; CPU OS )(\d+)_\d+/),iOSMinorVersion:r(/(?:iPhone OS |iPad; CPU OS )\d+_(\d+)/),iOSBuildVersion:r(/(?:iPhone OS |iPad; CPU OS )\d+_\d+_(\d+)/),androidWebkitVersion:r(/Mozilla\/5\.0.*Android.*AppleWebKit\/([\d]+)/),androidVersion:r(/Android (\d+)\.\d+/),firefoxVersion:r(/Firefox\/(\d+)\.\d+/),chromeVersion:r(/Chrome\/(\d+)\.\d+/),safariVersion:r(/Version\/(\d+)\.\d+ Safari/),iOSChromeVersion:r(/CriOS\/(\d+)\.\d+/),iOSNativeVersion:r(/Stripe\/(\d+)\.\d+/),ieVersion:r(/(?:MSIE |Trident\/.*rv:)(\d{1,2})\./),isiOSChrome:function(){return/CriOS/.test(t.userAgent)},isiOSFirefox:function(){return t.isiOS()&&/FxiOS\//.test(t.userAgent)},isiOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit((?!.*Safari)|(.*\([^)]*like[^)]*Safari[^)]*\)))/i.test(t.userAgent)},getiOSWebViewType:function(){if(t.isiOSWebView())return window.indexedDB?"WKWebView":"UIWebView"},isiOS:e(function(){return/(iPhone|iPad|iPod)/i.test(t.userAgent)}),isiOSNative:function(){return this.isiOS()&&this.iOSNativeVersion()>=3},isiPad:function(){return/(iPad)/i.test(t.userAgent)},isMac:e(function(){return/mac/i.test(t.userAgent)}),isWindowsPhone:function(){return/(Windows\sPhone|IEMobile)/i.test(t.userAgent)},isWindowsOS:function(){return/(Windows NT \d\.\d)/i.test(t.userAgent)},isIE:function(){return/(MSIE ([0-9]{1,}[\.0-9]{0,})|Trident\/)/i.test(t.userAgent)},isChrome:function(){return"chrome"in window},isSafari:e(function(){var e;return e=t.userAgent,/Safari/i.test(e)&&!/Chrome/i.test(e)}),isFirefox:e(function(){return null!=t.firefoxVersion()}),isAndroidBrowser:function(){var e;return(e=t.androidWebkitVersion())&&e<537},isAndroidChrome:function(){var e;return(e=t.androidWebkitVersion())&&e>=537},isAndroidDevice:e(function(){return/Android/.test(t.userAgent)}),isAndroidWebView:function(){return t.isAndroidChrome()&&/Version\/\d+\.\d+/.test(t.userAgent)},isAndroidFacebookApp:function(){return t.isAndroidChrome()&&/FBAV\/\d+\.\d+/.test(t.userAgent)},isNativeWebContainer:function(){return null!=window.cordova||/GSA\/\d+\.\d+/.test(t.userAgent)},isSupportedMobileOS:function(){return t.isiOS()||t.isAndroidDevice()},isAndroidWebapp:function(){var e;return!!t.isAndroidChrome()&&((e=document.getElementsByName("apple-mobile-web-app-capable")[0]||document.getElementsByName("mobile-web-app-capable")[0])&&"yes"===e.content)},isiOSBroken:function(){var e;if(e=t.iOSChromeVersion(),9===t.iOSVersion()&&t.iOSMinorVersion()>=2&&e&&e<=47)return!0;if(t.isiPad()&&8===t.iOSVersion())switch(t.iOSMinorVersion()){case 0:return!0;case 1:return t.iOSBuildVersion()<1}return!!t.isiOSFirefox()},couldBeBrokenSFSVC:function(){var e;return!(9!==(e=t.iOSVersion())&&10!==e||t.isiOSWebView()||t.isiOSChrome()||t.isiOSFirefox()||t.isNativeWebContainer()||t.isiPad())},isSafariStandaloneMode:function(){return window.navigator&&window.navigator.standalone},getViewportTags:function(){var e,t,n,r,i,o;if(!(r=Array.prototype.slice.call(document.getElementsByTagName("meta")).filter(function(e){return"viewport"===e.name&&null!=e.getAttribute("content")})).length)return{};for(o={},e=0,n=(i=r[r.length-1].content.split(",")).length;e<n;e++)2===(t=i[e].split("=")).length&&(o[t[0].trim()]=t[1].trim());return o},isFullscreenMobileCapableViewport:function(){var e,t,n,r;return t=!!(n=this.getViewportTags())["initial-scale"]&&1===parseInt(n["initial-scale"],10),r=!n.width||"device-width"===n.width,e=!n.height||"device-height"===n.height,t&&r&&e},iOSChromeTabViewWillFail:function(){var e,n,r;return e="click"===(n=null!=(r=window.event)?r.type:void 0)||"touchstart"===n||"touchend"===n,t.iOSChromeVersion()<48&&!e},isInsideFrame:function(){return window.top!==window.self},isFallback:function(){var e,n,r,i;return!("postMessage"in window&&!window.postMessageDisabled&&!(document.documentMode&&document.documentMode<8))||(!!((e=t.androidVersion())&&e<4)||(!!((i=t.iOSVersion())&&i<6)||(!!((r=t.firefoxVersion())&&r<11)||!!((n=t.iOSChromeVersion())&&n<36))))},isSmallScreen:function(){return Math.min(window.screen.availHeight,window.screen.availWidth)<=640||/FakeCheckoutMobile/.test(t.userAgent)},pad:function(e,t,n){return null==t&&(t=2),null==n&&(n="0"),(e+="").length>t?e:new Array(t-e.length+1).join(n)+e},requestAnimationFrame:function(e){return("function"==typeof window.requestAnimationFrame?window.requestAnimationFrame(e):void 0)||("function"==typeof window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):void 0)||window.setTimeout(e,100)},requestAnimationInterval:function(e,n){var r,i;return i=new Date,(r=function(){var o,s;return o=t.requestAnimationFrame(r),s=new Date,n-(s-i)<=0&&(i=s,e()),o})()},getQueryParameterByName:function(e){var t;return(t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search))&&decodeURIComponent(t[1].replace(/\+/g," "))},addQueryParameter:function(e,t,n){var r,i;return i=encodeURIComponent(t)+"="+encodeURIComponent(n),(r=new String(e).split("#"))[0]+=-1!==r[0].indexOf("?")?"&":"?",r[0]+=i,r.join("#")},bind:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},unbind:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},host:function(e){var t,n;return(t=document.createElement("div")).innerHTML='<a href="'+this.escape(e)+'">x</a>',(n=t.firstChild).protocol+"//"+n.host},strip:function(e){var t,n,r;return(r=document.createElement("div")).innerHTML=e,null!=(t=null!=(n=r.textContent)?n:r.innerText)?t:""},replaceFullWidthNumbers:function(e){var t,n,r,i,o,s,a,u,c;for(n="０１２３４５６７８９",r="0123456789",c="",o=0,s=(u=(a=e.value).split("")).length;o<s;o++)t=u[o],(i=n.indexOf(t))>-1&&(t=r[i]),c+=t;if(a!==c)return e.value=c},setAutocomplete:function(e,n){var r;if(r=t.chromeVersion()>14||t.safariVersion()>7,"cc-csc"===n||/^cc-/.test(n)&&!r?e.setAttribute("autocomplete","off"):(e.setAttribute("x-autocompletetype",n),e.setAttribute("autocompletetype",n)),"country-name"!==n&&"language"!==n&&"sex"!==n&&"gender-identity"!==n&&(e.setAttribute("autocorrect","off"),e.setAttribute("spellcheck","off")),!/name|honorific/.test(n)&&"locality"!==n&&"city"!==n&&"adminstrative-area"!==n&&"state"!==n&&"province"!==n&&"region"!==n&&"language"!==n&&"org"!==n&&"organization-title"!==n&&"sex"!==n&&"gender-identity"!==n)return e.setAttribute("autocapitalize","off")},hashCode:function(e){var t,n,r,i;for(t=5381,n=r=0,i=e.length;r<i;n=r+=1)t=(t<<5)+t+e.charCodeAt(n);return(t>>>0)%65535},stripeUrlPrefix:function(){var e;return(e=window.location.hostname.match("^([a-z-]*)checkout."))?e[1]:""},clientLocale:function(){return(window.navigator.languages||[])[0]||window.navigator.userLanguage||window.navigator.language},dashToCamelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},camelToDashCase:function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},isArray:Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},n.exports=t}).call(this)}}),StripeCheckout.require.define({"lib/spellChecker":function(e,t,n){(function(){var e;n.exports={levenshtein:e=function(e,t){var n,r,i,o,s,a,u,c,l,p,h,f,d;if(a=e.length,u=t.length,n=[],!a)return u;if(!u)return a;for(r=o=0,p=a;0<=p?o<=p:o>=p;r=0<=p?++o:--o)n[r]=[r];for(i=s=1,h=u;1<=h?s<=h:s>=h;i=1<=h?++s:--s)n[0][i]=i;for(r=c=1,f=a;1<=f?c<=f:c>=f;r=1<=f?++c:--c)for(i=l=1,d=u;1<=d?l<=d:l>=d;i=1<=d?++l:--l)e[r-1]===t[i-1]?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i],n[r][i-1],n[r-1][i-1])+1;return n[a][u]},suggest:function(t,n,r){var i,o,s,a,u,c;for(null==r&&(r=1/0),a=1/0,u=null,o=0,s=t.length;o<s;o++)c=t[o],(i=e(c,n))<a&&(a=i,u=c);return a<r?u:null}}}).call(this)}}),StripeCheckout.require.define({"lib/optionHelpers":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p;i=t("lib/helpers"),r=function(e){var t,n,r,i;t={};for(n in e)"function"==(r=typeof(i=e[n]))||"object"===r?t[n]=""+i:t[n]=i;return JSON.stringify(t)},a=function(e){switch(typeof e){case"function":return'"'+e+'"';case"object":return r(e);default:return""+JSON.stringify(e)}},p=function(e,t){return e.length-3>t?e.slice(0,t-3)+"...":e},e=function(e){return p(a(e),50)},s=function(e,t){var n;return(null!=(n=t.__originals)?n[e]:void 0)||(t.buttonIntegration?"data-"+i.camelToDashCase(e):e)},u=function(e){return"false"!==e&&!1!==e&&null!=e},c=function(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e):void 0},l=function(e){return null==e?"":""+e},o=function(e){return e},n.exports={prettyPrint:s,flatten:r,repr:a,truncate:p,dumpObject:e,toBoolean:u,toNumber:c,toString:l,identity:o}}).call(this)}}),StripeCheckout.require.define({"lib/paymentMethods":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p,h,f,d,m,y,g,v,b,k,w,S,O,C,x,T,A,V,_,I={}.hasOwnProperty,M=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};m=t("lib/helpers"),b=t("lib/optionHelpers"),w=(k=t("lib/optionValidator")).severities,e=w.ERROR,a=w.WARNING,i=(S=k.importances).OPTIONAL,s=S.REQUIRED,S.PRIVATE,c=function(e,t,n){var r;return"boolean"!==typeof t&&"auto"!==t?(r=b.prettyPrint("alipay",n),{type:a,message:"The '"+r+"' option can be true, false, or 'auto', but instead we found "+b.dumpObject(t)+"."}):null},r={alipay:{method:{importance:s,spec:k.ignore,checkContext:k.ignore},enabled:{importance:s,spec:c,checkContext:k.ignore,default:!1},reusable:{importance:i,spec:k.isNullableBoolean,checkContext:k.ignore,default:!1}},card:{method:{importance:s,spec:k.ignore,checkContext:k.ignore},enabled:{importance:i,spec:k.isBoolean,checkContext:k.ignore,default:!0}},bitcoin:{method:{importance:s,spec:k.ignore,checkContext:k.ignore},enabled:{importance:i,spec:k.isBoolean,checkContext:k.ignore,default:!1}}},y=function(e){return e in r},(V=function(){var e;e=[];for(A in r)e.push("'"+A+"'");return e}())[(_=V.length)-1]="or "+V[_-1],o=V.join(", "),O=function(t){return y(t)?null:(b.dumpObject(methodSettings.method),{type:e,message:"'"+t+"' is not a valid payment method. It must be one of "+o})},d=function(t){var n,i,o,s,a;return null!=(n=O(t.method))?n:(o=r[t.method],i=(s=k.validate(o,t)).errors,a=s.warnings,(i=i.concat(a)).length>0?{type:e,message:"Error when checking the '"+t.method+"' method:\n"+i[0].toString()}:null)},x=function(t,n){var r,i;return"string"==typeof t?O(t):null!=(null!=t?t.method:void 0)?d(r=t):(i=b.dumpObject(r),{type:e,message:"All elements of paymentMethods need to be either an object with a 'method' property or one of these strings: "+o+".\n At index "+n+" we found '"+i+"' which was neither."})},p=function(t){var n,r,i,o,s,a;for(r=n=0,i=(s=(a=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)"string"==typeof(o=t[e])?r.push(o):null!=(null!=o?o.method:void 0)?r.push(o.method):r.push(null);return r}().concat().sort()).slice(1)).length;n<i;r=++n)if((o=s[r])===a[r])return{type:e,message:"You've configured the payment method '"+o+"' multiple times."};return null},h=function(t){var n,r,i,o;return null!=t.alipay||null!=t.bitcoin||null!=t.alipayReusable?(n=b.prettyPrint("alipay",t),r=b.prettyPrint("alipayReusable",t),i=b.prettyPrint("bitcoin",t),o=b.prettyPrint("paymentMethods",t),{type:e,message:"Setting any of the the '"+n+"', '"+r+"', or '"+i+"' options is disallowed if you are using '"+o+"'."}):null},f=function(e,t){var n,r;n=[];for(r in e)null==t[r]?n.push(t[r]=e[r].default):n.push(void 0);return n},C=function(e,t){var n;return f(r[e],n={method:e,enabled:t}),n},l=function(e,t){var n;return f(r.alipay,n={method:"alipay",enabled:e,reusable:t}),n},T=function(e){var t,n,i,o,s,a;a=[],t={};for(o in r)t[o]=!1;for(n=0,i=e.length;n<i;n++)"string"==typeof(o=e[n])?(a.push(C(o,!0)),t[o]=!0):(null==(s=o).enabled&&(s.enabled=!0),f(r[s.method],s),t[s.method]=!0,a.push(s));for(o in t)t[o]||a.push(C(o,!1));return a},v=function(e){var t,n,r,i,o;for(o={},t=[],n=0,r=e.length;n<r;n++)o[(i=e[n]).method]=i,!1!==i.enabled&&t.push(i.method);return{settings:o,enabled:t}},u={alipayEnabled:c,spec:function(t,n,r){var i,o,s,a,u;if(null===n)return null;if(!m.isArray(n))return{type:e,message:"Looking for an Array, but instead we found '"+(null===n?"null":typeof n)+"'."};for(s=o=0,a=n.length;o<a;s=++o)if(u=n[s],null!=(i=x(u,s)))return i;return null},checkContext:function(e,t,n){var r;return null!=(r=h(n))?r:null!=t?p(t):void 0},canonicalize:function(e){var t,n,r,i,o;i={},t=["bitcoin","alipay","alipayReusable"];for(r in e)I.call(e,r)&&(o=e[r],M.call(t,r)<0&&(i[r]=o));return null!=e.paymentMethods?i.paymentMethods=v(T(e.paymentMethods)):(n=e.alipay||e.alipayReusable||!1,i.paymentMethods=v([C("card",!0),C("bitcoin",e.bitcoin||!1),l(n,e.alipayReusable)])),i},methods:function(){var e;e=[];for(g in r)e.push(g);return e}()};for(g in r)u[g]=g;n.exports=u}).call(this)}}),StripeCheckout.require.define({"lib/optionSpecs":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p,h,f,d,m,y,g,v,b,k,w,S,O,C,x,T,A,V,_,I;O=t("lib/helpers"),x=t("lib/optionHelpers"),V=t("lib/paymentMethods"),(_=(T=t("lib/optionValidator")).severities).ERROR,w=_.WARNING,I=T.importances,d=I.OPTIONAL,v=I.REQUIRED,g=I.PRIVATE,r="button",s="custom",b="string",k="url",e="boolean",f="number",p="null-string",h="null-url",l="null-number",m={address:{importance:g,type:y="other",checkContext:function(e,t,n){var r,i;return r=x.prettyPrint("address",n),i=x.prettyPrint("billingAddress",n),{type:w,message:"'"+r+"' is deprecated.  Use '"+i+"' instead."}}},alipay:{importance:d,type:y,coerceTo:function(e){return"auto"===e?e:x.toBoolean(e)},spec:function(e,t,n){return null===t?null:V.alipayEnabled(e,t,n)}},alipayReusable:{importance:d,type:c="null-boolean",checkContext:T.xRequiresY("alipayReusable","alipay")},allowRememberMe:{importance:d,type:c,default:!0},amount:{importance:d,type:l},billingAddress:{importance:d,type:c},bitcoin:{importance:d,type:c},buttonIntegration:{importance:g,type:e,default:!1},closed:{only:s,importance:d,type:y},color:{importance:g,type:b},createSource:{importance:g,type:e},currency:{importance:d,type:p,default:"usd"},description:{importance:d,type:p},email:{importance:d,type:p},image:{importance:d,type:h},key:{importance:v,type:b},label:{only:r,importance:d,type:p},locale:{importance:d,type:p},name:{importance:d,type:p},nostyle:{importance:g,type:e},notrack:{importance:g,type:e},opened:{only:s,importance:d,type:y},panelLabel:{importance:d,type:p},paymentMethods:{only:s,importance:d,type:y,spec:V.spec,checkContext:V.checkContext},referrer:{importance:g,type:k},shippingAddress:{importance:d,type:c,checkContext:T.xRequiresY("shippingAddress","billingAddress")},source:{importance:d,type:y,only:s,checkContext:T.xPrecludesY("source","token")},supportsTokenCallback:{importance:g,type:e},timeLoaded:{importance:g,type:y},token:{importance:function(e,t){return t?d:e===r?v:function(e,t,n){return t||n.source?null:new T.ErrorMissingOneOfRequired(n,e,"source")}},type:y},trace:{importance:g,type:e},url:{importance:g,type:k},zipCode:{importance:d,type:c},__originals:{importance:g,type:y}};for(C in m)null==(A=m[C]).coerceTo&&(A.coerceTo=function(){switch(A.type){case b:case p:return x.toString;case e:case c:return x.toBoolean;case f:case l:return x.toNumber;case k:case h:return O.sanitizeURL;case y:return x.identity}}()),null==A.spec&&(A.spec=function(){switch(A.type){case b:case k:return T.isString;case e:return T.isBoolean;case f:return T.isNumber;case p:case h:return T.isNullableString;case c:return T.isNullableBoolean;case l:return T.isNullableNumber;case y:return T.ignore}}()),null==A.checkContext&&(A.checkContext=T.ignore);i=(S=function(e){var t,n,r,i,o,s;r=e.only,n=e.isConfigure,i={};for(C in m)if(null==(t=m[C]).only||t.only===r){A={};for(o in t)s=t[o],A[o]="importance"===o?"string"==typeof s?s:s(r,n):s;i[C]=A}return i})({only:r,isConfigure:!0}),o=S({only:r,isConfigure:!1}),a=S({only:s,isConfigure:!0}),u=S({only:s,isConfigure:!1}),n.exports={_OPTIONS:m,types:{STRING:b,BOOLEAN:e,NUMBER:f,NULLABLE_STRING:p,NULLABLE_URL:h,NULLABLE_BOOLEAN:c,NULLABLE_NUMBER:l,URL:k,OTHER:y},buttonConfigureOptions:i,buttonOpenOptions:o,customConfigureOptions:a,customOpenOptions:u,all:[i,o,a,u]}}).call(this)}}),StripeCheckout.require.define({"lib/optionValidator":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p,h,f,d,m,y,g,v,b,k,w,S,O,C,x,T,A,V,_,I,M,E,N,P,R,F=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};E=t("lib/spellChecker"),_=t("lib/optionHelpers"),e="error",c="warning",s="optional",u="required",a="private",A=function(e){return e===u},k=function(e){var t,n;return{all:e,required:function(){var r;r=[];for(t in e)n=e[t],A(n.importance)&&r.push(t);return r}(),conditionallyRequired:function(){var r;r=[];for(t in e)"function"==typeof(n=e[t]).importance&&r.push(t);return r}(),suggestable:function(){var r;r=[];for(t in e)(n=e[t]).importance!==a&&r.push(t);return r}()}},M=function(e,t){var n;return(n=typeof t)!==e?(null===t&&(n="null"),{type:c,message:"Looking for type '"+e+"', but instead we found '"+n+"'."}):null},I=function(e,t){return null===t?null:M(e,t)},V=function(e,t,n){return M("string",t)},S=function(e,t,n){return M("boolean",t)},T=function(e,t,n){return M("number",t)},x=function(e,t,n){return I("string",t)},O=function(e,t,n){return I("boolean",t)},C=function(e,t,n){return I("number",t)},w=function(){return null},R=function(e,t){return function(n,r,i){var o,s;if(!i[t])return o=_.prettyPrint(t,i),s=_.prettyPrint(e,i),{type:c,message:"'"+o+"' must be enabled whenever '"+s+"' is."}}},P=function(t,n){return function(r,i,o){var s,a;if(o[t]&&o[n])return s=_.prettyPrint(t,o),a=_.prettyPrint(n,o),{type:e,message:"The options '"+s+"' and '"+a+"' can not be used at the same time."}}},i=function(){function e(e,t){this.rawOptions=e,this.key=t}return e.prototype.toString=function(){return"'"+_.prettyPrint(this.key,this.rawOptions)+"' is a required option, but was not found."},e.prototype.trackedInfo=function(){return{result:"ErrorMissingRequired",key:this.key}},e}(),r=function(){function e(e,t,n){this.rawOptions=e,this.keyA=t,this.keyB=n}return e.prototype.toString=function(){return"Either '"+_.prettyPrint(this.keyA,this.rawOptions)+"' or '"+_.prettyPrint(this.keyB,this.rawOptions)+"' is a required option, but neither was found."},e.prototype.trackedInfo=function(){return{result:"ErrorMissingOneOfRequired",key:this.keyA}},e}(),o=function(){function e(e,t,n){this.rawOptions=e,this.expected=t,this.actual=n}return e.prototype.toString=function(){var e;return e=_.prettyPrint(this.expected,this.rawOptions),"Unrecognized option '"+_.prettyPrint(this.actual,this.rawOptions)+"'. Did you mean '"+e+"'? ('"+e+"' is required)"},e.prototype.trackedInfo=function(){return{result:"ErrorMisspelledRequired",expected:this.expected,actual:this.actual}},e}(),p=function(){function e(e,t,n){this.rawOptions=e,this.expected=t,this.actual=n}return e.prototype.toString=function(){var e;return e=_.prettyPrint(this.expected,this.rawOptions),"Unrecognized option '"+_.prettyPrint(this.actual,this.rawOptions)+"'. Did you mean '"+e+"'?"},e.prototype.trackedInfo=function(){return{result:"WarnMisspelledOptional",expected:this.expected,actual:this.actual}},e}(),f=function(){function e(e,t){this.rawOptions=e,this.key=t}return e.prototype.toString=function(){return"Unrecognized option '"+_.prettyPrint(this.key,this.rawOptions)+"'."},e.prototype.trackedInfo=function(){return{result:"WarnUnrecognized",key:this.key}},e}(),h=function(){function e(e,t,n){this.rawOptions=e,this.key=t,this.message=n}return e.prototype.toString=function(){return"Type mismatch for option '"+_.prettyPrint(this.key,this.rawOptions)+"':\n"+this.message},e.prototype.trackedInfo=function(){return{result:"WarnOptionTypeError",key:this.key,message:this.message}},e}(),l=function(){function e(e,t,n){this.rawOptions=e,this.key=t,this.message=n}return e.prototype.toString=function(){return this.message},e.prototype.trackedInfo=function(){return{result:"WarnBadContext",key:this.key,message:this.message}},e}(),b=function(e,t,n){var r;return r=k(e),null!=n&&null!=r.all[t]?r.all[t].coerceTo(n):n},g=function(e,t,n){var r,o,s,a,u;for(r=t.errors,t.warnings,o=0,s=(a=e.required).length;o<s;o++)(u=a[o])in n||r.push(new i(n,u))},d=function(e,t,n){var r,i,o,s,a,u,c;for(i=t.errors,t.warnings,o=0,s=(u=e.conditionallyRequired).length;o<s;o++)c=n[a=u[o]],(r=e.all[a].importance(a,c,n))&&i.push(r)},v=function(e,t,n){var s,a,u,c,l,h,d;a=t.errors,d=t.warnings;for(l in n)l in e.all||(h=E.suggest(e.suggestable,l,4),F.call(e.required,h)>=0||F.call(e.conditionallyRequired,h)>=0?(c=function(){var e,t,n;for(n=[],u=e=0,t=a.length;e<t;u=++e)((s=a[u])instanceof i&&s.key===h||s instanceof r&&s.keyA===h)&&n.push(u);return n}()).length>0?(u=c[0],a[u]=new o(n,h,l)):d.push(new f(n,l)):null!=h?d.push(new p(n,h,l)):d.push(new f(n,l)))},y=function(t,n,r){var i,o,s,a,u,c,l,p;o=n.errors,p=n.warnings,s={};for(u in r)l=r[u],u in t.all&&(s[u]=l);for(u in s)l=s[u],(i=t.all[u].spec(u,l,r))&&(c=i.type,a=i.message,c===e?o.push(new h(r,u,a)):p.push(new h(r,u,a)))},m=function(t,n,r){var i,o,s,a,u,c,p,h;o=n.errors,h=n.warnings,s={};for(u in r)p=r[u],u in t.all&&(s[u]=p);for(u in s)p=s[u],(i=t.all[u].checkContext(u,p,r))&&(c=i.type,a=i.message,c===e?o.push(new l(r,u,a)):h.push(new l(r,u,a)))},N=function(e,t){var n,r,i;return n=k(e),g(n,{errors:r=[],warnings:i=[]},t),d(n,{errors:r,warnings:i},t),v(n,{errors:r,warnings:i},t),y(n,{errors:r,warnings:i},t),m(n,{errors:r,warnings:i},t),{errors:r,warnings:i}},n.exports={ErrorMissingRequired:i,ErrorMissingOneOfRequired:r,ErrorMisspelledRequired:o,WarnMisspelledOptional:p,WarnUnrecognized:f,WarnOptionTypeError:h,WarnBadContext:l,severities:{ERROR:e,WARNING:c},importances:{OPTIONAL:s,REQUIRED:u,PRIVATE:a},simpleTypeCheck:M,simpleNullableTypeCheck:I,isString:V,isBoolean:S,isNumber:T,isNullableString:x,isNullableBoolean:O,isNullableNumber:C,ignore:w,xRequiresY:R,xPrecludesY:P,coerceOption:b,validate:N}}).call(this)}}),StripeCheckout.require.define({"lib/optionParser":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p,h,f;f=t("lib/tracker"),s=t("lib/helpers"),c=t("lib/optionValidator"),u=t("lib/optionSpecs"),e="https://stripe.com/docs/checkout",i=function(e,t){var n,r;return null!=e[t]?e[t]:null!=e[r=t.toLowerCase()]?e[r]:null!=e[n=s.camelToDashCase(t)]?e[n]:void 0},a=function(e){return("string"==typeof e||e instanceof String)&&!/^pk_test_.*$/.test(e)},o=function(t,n){return"StripeCheckout."+t+": "+n+"\nYou can learn about the available configuration options in the Checkout docs:\n"+e},r=function(e,t,n,r){var i,o,s,a;o={"optchecker-origin":t},s=r.trackedInfo();for(i in s)a=s[i],o["optchecker-"+i]=a;switch(e){case"error":f.track.configError(o,n);break;case"warning":f.track.configWarning(o,n)}},p=function(e,t){var n,r,i;r={};for(n in e)i=e[n],r["optchecker-"+n]=i;return f.track.configSummary(r,t)},l=function(e,t,n){return r("error",e,t,n)},h=function(e,t,n){return r("warning",e,t,n)},n.exports={coerceButtonOption:function(e,t){return c.coerceOption(u.buttonConfigureOptions,e,t)},parse:function(e){var t,n,r,o,s;null==e&&(e={}),o={},t=e.buttonIntegration?u.buttonOpenOptions:u.customOpenOptions;for(n in t)r=t[n],null==(s=i(e,n))&&null!=r.default&&(s=r.default),o[n]=c.coerceOption(t,n,s);return o.shippingAddress&&(o.billingAddress=!0),null!=e.address&&"false"!==e.address&&!1!==e.address&&(o.billingAddress=!0),o.billingAddress&&(o.zipCode=!1),o},checkUsage:function(e,t,n){var r,i,s,f,d,m,y,g,v,b,k,w,S,O;for(null==n&&(n=!1),k=a(t.key)||n,d="configure"===e,r=t.buttonIntegration?d?u.buttonConfigureOptions:u.buttonOpenOptions:d?u.customConfigureOptions:u.customOpenOptions,s=(w=c.validate(r,t)).errors,O=w.warnings,v=s.length,b=O.length,p({origin:e,numErrors:v,numWarnings:b},t),f=0,y=s.length;f<y;f++)i=s[f],k||"undefined"!=typeof console&&null!==console&&console.error(o(e,i.toString())),l(e,t,i);for(k||(k=v>0),m=0,g=O.length;m<g;m++)S=O[m],k||"undefined"!=typeof console&&null!==console&&console.warn(o(e,S.toString())),h(e,t,S)}}}).call(this)}}),StripeCheckout.require.define({"lib/rpc":function(e,t,n){(function(){var e,r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},s=[].slice;r=t("lib/helpers"),i=t("lib/tracker"),e=function(){function e(e,t){var n;null==t&&(t={}),this.processMessage=o(this.processMessage,this),this.sendMessage=o(this.sendMessage,this),this.invoke=o(this.invoke,this),this.startSession=o(this.startSession,this),this.rpcID=0,this.target=e,this.callbacks={},this.readyQueue=[],this.readyStatus=!1,this.methods={},r.bind(window,"message",(n=this,function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],n.message.apply(n,e)}))}return e.prototype.startSession=function(){return this.sendMessage("frameReady"),this.frameReady()},e.prototype.invoke=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],i.trace.rpcInvoke(t),this.ready((n=this,function(){return n.sendMessage(t,e)}))},e.prototype.message=function(e){var t;t=!1;try{t=e.source===this.target}catch(e){}if(t)return this.processMessage(e.data)},e.prototype.ready=function(e){return this.readyStatus?e():this.readyQueue.push(e)},e.prototype.frameCallback=function(e,t){var n;return"function"==typeof(n=this.callbacks)[e]&&n[e](t),delete this.callbacks[e],!0},e.prototype.frameReady=function(){var e,t,n;for(this.readyStatus=!0,t=0,n=(e=this.readyQueue.slice(0)).length;t<n;t++)(0,e[t])();return!1},e.prototype.isAlive=function(){return!0},e.prototype.sendMessage=function(e,t){var n,r,o,s;if(null==t&&(t=[]),r=++this.rpcID,"function"==typeof t[t.length-1]&&(this.callbacks[r]=t.pop()),o=JSON.stringify({method:e,args:t,id:r}),null!=(null!=(s=this.target)?s.postMessage:void 0))return this.target.postMessage(o,"*"),i.trace.rpcPostMessage(e,t,r);if(n=new Error("Unable to communicate with Checkout. Please contact support@stripe.com if the problem persists."),null==this.methods.rpcError)throw n;this.methods.rpcError(n)},e.prototype.processMessage=function(e){var t,n,r,i;try{e=JSON.parse(e)}catch(e){return}if(-1!==["frameReady","frameCallback","isAlive"].indexOf(e.method)?(i=null,null!=(n=this[e.method])&&(i=n.apply(this,e.args))):i="function"==typeof(t=this.methods)[r=e.method]?t[r].apply(t,e.args):void 0,"frameCallback"!==e.method)return this.invoke("frameCallback",e.id,i)},e}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"lib/uuid":function(e,t,n){(function(){var e;e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},n.exports.generate=function(){return"-",e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}).call(this)}}),StripeCheckout.require.define({"lib/pixel":function(e,t,n){(function(){var e,t,r,i,o,s,a,u,c;r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t;return t=16*Math.random()|0,("x"===e?t:3&t|8).toString(16)})},u=function(e,t,n){var r,i;return null==n&&(n={}),!0===n.expires&&(n.expires=-1),"number"==typeof n.expires&&((i=new Date).setTime(i.getTime()+24*n.expires*60*60*1e3),n.expires=i),null==n.path&&(n.path="/"),t=(t+"").replace(/[^!#-+\--:<-\[\]-~]/g,encodeURIComponent),r=encodeURIComponent(e)+"="+t,n.expires&&(r+=";expires="+n.expires.toGMTString()),n.path&&(r+=";path="+n.path),n.domain&&(r+=";domain="+n.domain),document.cookie=r},i=function(e){var t,n,r,i,o,s,a;for(r=0,s=(n=document.cookie.split("; ")).length;r<s;r++)if(i=(t=n[r]).indexOf("="),o=decodeURIComponent(t.substr(0,i)),a=decodeURIComponent(t.substr(i+1)),o===e)return a;return null},t=function(e){return"string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))},a=function(e,n,r){var i,o,s;return null==n&&(n={}),n.i=(new Date).getTime(),n=function(){var e;e=[];for(o in n)s=n[o],e.push(o+"="+t(s));return e}().join("&"),i=new Image,r&&(i.onload=r),i.src=e+"?"+n,!0},e=function(){var e;switch(null!=(e=window.navigator.doNotTrack)?e.toString().toLowerCase():void 0){case"1":case"yes":case"true":return!1;default:return!0}},s=function(){var t;if(!e())return"DNT";try{return(t=localStorage.getItem("lsid"))||(t=r(),localStorage.setItem("lsid",t)),t}catch(e){return e,"NA"}},o=function(){var t;if(!e())return"DNT";try{return t=i("cid")||r(),u("cid",t,{expires:7200,domain:".stripe.com"}),t}catch(e){return e,"NA"}},c=function(e,t,n){var r,i,u;null==t&&(t={}),i={event:e,rf:document.referrer,sc:window.location.search};for(r in t)u=t[r],i[r]=u;return i.lsid||(i.lsid=s()),i.cid||(i.cid=o()),a("https://q.stripe.com",i,n)},n.exports.track=c,n.exports.getLocalStorageID=s,n.exports.getCookieID=o}).call(this)}}),StripeCheckout.require.define({"vendor/base64":function(e,t,n){n.exports.encode=function(e){var t,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,c="",l=[];if(!e)return e;e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[u++]=s.charAt(t)+s.charAt(n)+s.charAt(r)+s.charAt(i)}while(a<e.length);switch(c=l.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}}}),StripeCheckout.require.define({"lib/tracker":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};l=t("lib/uuid"),i=t("lib/pixel"),t("vendor/base64"),r=t("lib/helpers"),e={enabled:!1,tracingEnabled:!1,eventNamePrefix:"checkout.",distinctId:l.generate()},o={},(c={}).setEnabled=function(t){return e.enabled=t},c.setTracingEnabled=function(t){return e.tracingEnabled=t},c.setDistinctID=function(t){if(t)return e.distinctId=t},c.getDistinctID=function(){return e.distinctId},c.track={outerOpen:function(e){return u("outer.open",e,["key"],{appendStateParameters:!1})},manhattanStatusSet:function(e){return u("outer.manhattanStatus",{isEnabled:e})},tabOpeningError:function(){return u("outer.tabOpeningError")},viewport:function(e){return u("outer.viewport",{viewport:e})},iOSWebViewType:function(){var e;if(e=r.getiOSWebViewType())return u("inner.iOSWebViewType",{type:e})},open:function(e){var t,n;for(t in e)n=e[t],o["option-"+t]=n;return u("open")},close:function(e){return u("close",e,["withToken"])},configSummary:function(e,t){var n,r;for(n in t)r=t[n],o["option-"+n]=r;return u("config.summary",e,["optchecker-origin","optchecker-numErrors","optchecker-numWarnings"])},configError:function(e,t){var n,r;for(n in t)r=t[n],o["option-"+n]=r;return u("config.error",e,["optchecker-origin","optchecker-result"])},configWarning:function(e,t){var n,r;for(n in t)r=t[n],o["option-"+n]=r;return u("config.warning",e,["optchecker-origin","optchecker-result"])},keyOverride:function(e){return u("config.keyOverride",e,["configure","open"])},localeOverride:function(e){return u("config.localeOverride",e,["configure","open"])},imageOverride:function(e){return u("config.imageOverride",e,["configure","open"])},rememberMe:function(e){return u("checkbox.rememberMe",e,["checked"])},authorizeAccount:function(){return u("account.authorize")},login:function(){return u("account.authorize.success")},wrongVerificationCode:function(){return u("account.authorize.fail")},keepMeLoggedIn:function(e){return u("checkbox.keepMeLoggedIn",e,["checked"])},logout:function(){return u("account.logout")},submit:function(){return u("submit")},invalid:function(e){if(null==e.err&&null==e.fields)throw new Error("Cannot track invalid because err or fields should be provided");return u("invalid",e)},tokenError:function(e){return u("token.error",{message:e,type:"exception"})},sourceError:function(e){return u("source.error",{message:e,type:"exception"})},moreInfo:function(){return u("moreInfoLink.click")},accountCreateSuccess:function(){return u("account.create.success")},accountCreateFail:function(){return u("account.create.fail")},addressAutocompleteShow:function(){return u("addressAutoComplete.show")},addressAutocompleteResultSelected:function(){return u("addressAutocomplete.result.selected")},back:function(e){return u("back",e,["from_step","to_step"])},token:function(e){return u("token",e,["stripe_token"])},source:function(e){return u("source",e,["stripe_source"])},i18nLocKeyMissing:function(e){return u("i18n.loc.missingKey",{template_key:e})},i18nLocPartiallyReplacedTemplate:function(e,t){return u("i18n.loc.partiallyReplacedTemplate",{template_key:e,template_value:t})},i18nFormatLocaleMissing:function(e){return u("i18n.format.localeMissing",{locale:e})},phoneVerificationShow:function(){return u("phoneVerification.show")},phoneVerificationCreate:function(e){return u("phoneVerification.create",e,["use_sms"])},phoneVerificationAuthorize:function(e){return u("fraudCodeVerification.authorize",e,["valid"])},addressVerificationShow:function(){return u("addressVerification.show")},alert:function(e){return u("alert",e)}},c.trace={trigger:function(e,t){var n,r;if(n=["didResize","viewAddedToDOM","valueDidChange","checkedDidChange","keyUp","keyDown","keyPress","keyInput","click","blur"],"checkout"===(e=e.split("."))[e.length-1]&&e.pop(),e=e.join("."),p.call(n,e)<0)return null==this._triggerQueue&&(this._triggerQueue={}),this._triggerQueue[e]=a(t),null!=this._triggerTimeout?this._triggerTimeout:this._triggerTimeout=setTimeout((r=this,function(){var n;n=r._triggerQueue;for(e in n)t=n[e],s("trigger."+e,{args:t});return r._triggerQueue={},r._triggerTimeout=null}),0)},rpcInvoke:function(e){return s("rpc.invoke."+e)},rpcPostMessage:function(e,t,n){return s("rpc.postMessage."+e,{id:n,args:a(t)})}},c.state={setUIType:function(e){return o["st-ui-type"]=e},setUIIntegration:function(e){return o["st-ui-integration"]=e},setAccountsEnabled:function(e){return o["st-accounts-enabled"]=e},setRememberMeEnabled:function(e){return o["st-remember-me-enabled"]=e},setRememberMeChecked:function(e){return o["st-remember-me-checked"]=e},setAccountCreated:function(e){return o["st-account-created"]=e},setLoggedIn:function(e){return o["st-logged-in"]=e},setVariants:function(e){var t,n,r;n=[];for(t in e)r=e[t],n.push(o["st-variant-"+t]=r);return n},setFeature:function(e,t,n){return o["st-variant-"+e]=t,o["st-selector-"+e]=n},setPhoneVerificationShown:function(e){return o["st-phone-verification-shown"]=e},setAddressVerificationShown:function(e){return o["st-address-verification-shown"]=e},setAlipayShouldDisplay:function(e){return o["st-alipay-should-display"]=e},setRequestedLocale:function(e){return o["st-locale"]=e}},c.dontTrack=function(t){var n;return n=e.enabled,e.enabled=!1,t(),e.enabled=n},s=function(t,n,r,i){if(null==n&&(n={}),null==r&&(r=[]),null==i&&(i={}),e.tracingEnabled)return t="trace."+t,u.apply(this,arguments)},u=function(t,n,r,s){var a,u,c,p,h,f,d;if(null==n&&(n={}),null==r&&(r=[]),null==s&&(s={}),e.enabled){if((f=function(){var e,t,i;for(i=[],e=0,t=r.length;e<t;e++)(p=r[e])in n||i.push(p);return i}()).length>0)throw new Error("Missing required data ("+f.join(", ")+") for tracking "+t+".");if(n.distinct_id=e.distinctId,n.eventId=l.generate(),null==s.appendStateParameters&&(s.appendStateParameters=!0),s.appendStateParameters)for(c in o)d=o[c],n[c]=d;for(n.h=screen.height,n.w=screen.width,d=u=0,h=n.length;u<h;d=++u)c=n[d],d instanceof Array&&d.sort();return a=""+e.eventNamePrefix+t,i.track(a,n)}},a=function(e){var t,n,r;if(e instanceof Array)return JSON.stringify(function(){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push(a(r));return i}());if(null!=e&&null!=e.target&&null!=e.type)return a({type:e.type,target_id:e.target.id});if(e instanceof Object){if(e.constructor===Object){n={};for(t in e)r=e[t],n[t]=a(r);return JSON.stringify(n)}return e.toString()}return e},n.exports=c}).call(this)}}),StripeCheckout.require.define({"outer/lib/fallbackRpc":function(e,t,n){(function(){var e,t,r,i,o,s=function(e,t){return function(){return e.apply(t,arguments)}};t=1,r=null,i=null,o=/^#?\d+&/,e=function(){function e(e,t){this.invokeTarget=s(this.invokeTarget,this),this.target=e,this.host=t}return e.prototype.invokeTarget=function(e){var n;return e=+new Date+t+++"&"+encodeURIComponent(e),n=this.host+"",this.target.location=n.replace(/#.*$/,"")+"#"+e},e.prototype.receiveMessage=function(e,t){return null==t&&(t=100),r&&clearInterval(r),r=setInterval(function(){var t;if((t=decodeURIComponent(window.location.hash))!==i&&o.test(t))return window.location.hash="",i=t,e({data:t.replace(o,"")})},t)},e}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"outer/lib/utils":function(e,t,n){(function(){var e,t,r,i,o,s,a,u,c,l,p,h,f,d,m=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=function(e){return document.querySelectorAll(e)},t=function(e){var t,n,r,i,o,s;if("function"==typeof document.getElementsByClassName)return document.getElementsByClassName(e);if("function"==typeof document.querySelectorAll)return document.querySelectorAll("."+e);for(o=new RegExp("(^|\\s)"+e+"(\\s|$)"),s=[],n=0,r=(i=document.getElementsByTagName("*")).length;n<r;n++)t=i[n],o.test(t.className)&&s.push(t);return s},s=function(e,t){var n;return"function"==typeof e.hasAttribute?e.hasAttribute(t):!(!(n=e.getAttributeNode(t))||!n.specified&&!n.nodeValue)},d=function(e,t,n,r){if(null==n&&(n={}),null==r&&(r=!0),window.jQuery)return jQuery(e).trigger(t,n)},r=function(e,t){return e.className+=" "+t},a=function(e,t){return m.call(e.className.split(" "),t)>=0},o=function(e,t){return e.style.cssText+=";"+t},c=function(e,t){return e.parentNode.insertBefore(t,e)},u=function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)},i=function(e,t){return e.appendChild(t)},p=function(e){var t;return null!=(t=e.parentNode)?t.removeChild(e):void 0},l=function(e){var t;for(t=[];(e=e.parentNode)&&e!==document&&m.call(t,e)<0;)t.push(e);return t},h=function(e){var t;return(t=document.createElement("a")).href=e,""+t.href},f=function(e,t){return"innerText"in e?e.innerText=t:e.textContent=t,t},n.exports={$:e,$$:t,hasAttr:s,trigger:d,addClass:r,hasClass:a,css:o,insertBefore:c,insertAfter:u,append:i,remove:p,parents:l,resolve:h,text:f}}).call(this)}}),StripeCheckout.require.define({"outer/controllers/app":function(e,t,n){(function(){var e,r,i,o,s,a,u=function(e,t){return function(){return e.apply(t,arguments)}};r=t("outer/controllers/checkout"),i=t("outer/controllers/tokenCallback"),t("lib/rpc"),o=t("lib/optionParser"),s=t("lib/tracker"),a=t("outer/lib/utils"),e=function(){function e(e){var t,n;null==e&&(e={}),this.setForceAppType=u(this.setForceAppType,this),this.setForceView=u(this.setForceView,this),this.setForceManhattan=u(this.setForceManhattan,this),this.getHost=u(this.getHost,this),this.setHost=u(this.setHost,this),this.configure=u(this.configure,this),this.close=u(this.close,this),this.open=u(this.open,this),this.configurations={},this.checkouts={},this.constructorOptions={host:"https://checkout.stripe.com",forceManhattan:!1,forceView:!1,forceAppType:!1},this.timeLoaded=Math.floor((new Date).getTime()/1e3),this.totalButtons=0,0===(null!=(t=window.Prototype)&&null!=(n=t.Version)?n.indexOf("1.6"):void 0)&&console.error("Stripe Checkout is not compatible with your version of Prototype.js. Please upgrade to version 1.7 or greater.")}return e.prototype.open=function(e,t){var n,s,u,c,l;if(null==e&&(e={}),null==t&&(t=null),u={},t&&this.configurations[t]){c=this.configurations[t];for(s in c)l=c[s],u[s]=l}for(s in e)l=e[s],u[s]=l;return u.image&&(u.image=a.resolve(u.image)),u.referrer=document.referrer,u.url=document.URL,u.timeLoaded=this.timeLoaded,o.checkUsage("open",u),this.validateOptions(e,"open"),u.createSource=!!u.source,t?(n=this.checkouts[t],null==e.token&&null==e.onToken||n.setOnToken(new i(e))):n=new r(new i(e),this.constructorOptions,e),this.trackOpen(n,u),this.trackViewport(),n.open(u)},e.prototype.close=function(e){var t;return null!=(t=this.checkouts[e])?t.close():void 0},e.prototype.configure=function(e,t){return null==t&&(t={}),e instanceof Object&&(t=e,e="button"+this.totalButtons++),this.enableTracker(t),o.checkUsage("configure",t),t.image&&(t.image=a.resolve(t.image)),this.validateOptions(t,"configure"),this.configurations[e]=t,this.checkouts[e]=new r(new i(t),this.constructorOptions,t),this.checkouts[e].preload(t),{open:(s=this,function(t){return s.open(t,e)}),close:(n=this,function(){return n.close(e)})};var n,s},e.prototype.validateOptions=function(e,t){try{return JSON.stringify(e)}catch(e){throw new Error("Stripe Checkout was unable to serialize the options passed to StripeCheckout."+t+"(). Please consult the doumentation to confirm that you're supplying values of the expected type: "+"https://stripe.com/docs/checkout#integration-custom")}},e.prototype.setHost=function(e){return this.constructorOptions.host=e},e.prototype.getHost=function(){return this.constructorOptions.host},e.prototype.setForceManhattan=function(e){return this.constructorOptions.forceManhattan=!!e},e.prototype.setForceView=function(e){return this.constructorOptions.forceView=e},e.prototype.setForceAppType=function(e){return this.constructorOptions.forceAppType=e},e.prototype.enableTracker=function(e){return s.setEnabled(!e.notrack)},e.prototype.trackOpen=function(e,t){var n;return this.enableTracker(t),n={key:t.key,lsid:"NA",cid:"NA"},s.track.outerOpen(n)},e.prototype.trackViewport=function(e,t){var n,r,i,o;n=document.getElementsByTagName("meta"),o=function(){var e,t,i;for(i=[],e=0,t=n.length;e<t;e++)"viewport"===(r=n[e]).name&&r.content&&i.push(r.content);return i}().join(",");try{return i=o.split(",").map(function(e){return e.trim().toLowerCase()}).sort().join(", "),s.track.viewport(i)}catch(e){}},e}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"outer/controllers/button":function(e,t,n){(function(){var e,r,i,o,s,a,u,c,l,p,h,f,d,m,y=function(e,t){return function(){return e.apply(t,arguments)}};h=t("outer/lib/utils"),e=h.$$,a=h.hasClass,i=h.addClass,m=h.trigger,o=h.append,d=h.text,p=h.parents,c=h.insertAfter,s=h.hasAttr,f=h.resolve,u=t("lib/helpers"),l=t("lib/optionParser"),r=function(){function t(e,t){var n;this.parseOptions=y(this.parseOptions,this),this.parentHead=y(this.parentHead,this),this.parentForm=y(this.parentForm,this),this.onToken=y(this.onToken,this),this.open=y(this.open,this),this.submit=y(this.submit,this),this.append=y(this.append,this),this.render=y(this.render,this),this.scriptEl=e,this.app=t,this.document=this.scriptEl.ownerDocument,this.nostyle=u.isFallback(),this.options=this.parseOptions(),(n=this.options).label||(n.label="Pay with Card"),this.options.token=this.onToken,this.options.buttonIntegration=!0,this.$el=document.createElement("button"),this.$el.setAttribute("type","submit"),this.$el.className="stripe-button-el",u.bind(this.$el,"click",this.submit),u.bind(this.$el,"touchstart",function(){}),this.render()}return t.totalButtonId=0,t.load=function(n){var r,o;if(o=e("stripe-button"),o=(o=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)r=o[e],a(r,"active")||n.push(r);return n}())[o.length-1])return i(o,"active"),new t(o,n).append()},t.prototype.render=function(){return this.$el.innerHTML="",this.$span=document.createElement("span"),d(this.$span,this.options.label),this.nostyle||(this.$el.style.visibility="hidden",this.$span.style.display="block",this.$span.style.minHeight="30px"),this.$style=document.createElement("link"),this.$style.setAttribute("type","text/css"),this.$style.setAttribute("rel","stylesheet"),this.$style.setAttribute("href",this.app.getHost()+"/v3/checkout/button-qpwW2WfkB0oGWVWIASjIOQ.css"),o(this.$el,this.$span)},t.prototype.append=function(){var e,t;return this.scriptEl&&c(this.scriptEl,this.$el),this.nostyle||(e=this.parentHead())&&o(e,this.$style),(this.$form=this.parentForm())&&(u.unbind(this.$form,"submit",this.submit),u.bind(this.$form,"submit",this.submit)),this.nostyle||setTimeout((t=this,function(){return t.$el.style.visibility="visible"}),1e3),this.app.setHost(u.host(this.scriptEl.src)),this.appHandler=this.app.configure(this.options,{form:this.$form})},t.prototype.disable=function(){return this.$el.setAttribute("disabled",!0)},t.prototype.enable=function(){return this.$el.removeAttribute("disabled")},t.prototype.isDisabled=function(){return s(this.$el,"disabled")},t.prototype.submit=function(e){return"function"==typeof e.preventDefault&&e.preventDefault(),this.isDisabled()||this.open(),!1},t.prototype.open=function(){return this.appHandler.open(this.options)},t.prototype.onToken=function(e,t){var n,r,i,s,a;if(m(this.scriptEl,"token",e),this.$form){if(r=this.renderInput("stripeToken",e.id),o(this.$form,r),i=this.renderInput("stripeTokenType",e.type),o(this.$form,i),e.email&&o(this.$form,this.renderInput("stripeEmail",e.email)),t)for(s in t)a=t[s],n=this.renderInput(this.formatKey(s),a),o(this.$form,n);this.$form.submit()}return this.disable()},t.prototype.formatKey=function(e){var t,n,r,i;for(n=e.split("_"),e="",r=0,i=n.length;r<i;r++)(t=n[r]).length>0&&(e=e+t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase());return"stripe"+e},t.prototype.renderInput=function(e,t){var n;return(n=document.createElement("input")).type="hidden",n.name=e,n.value=t,n},t.prototype.parentForm=function(){var e,t,n,r,i;for(n=0,r=(t=p(this.$el)).length;n<r;n++)if("form"===(null!=(i=(e=t[n]).tagName)?i.toLowerCase():void 0))return e;return null},t.prototype.parentHead=function(){var e,t;return(null!=(e=this.document)?e.head:void 0)||(null!=(t=this.document)?t.getElementsByTagName("head")[0]:void 0)||this.document.body},t.prototype.parseOptions=function(){var e,t,n,r,i,o,s,a,c;for(s={},r=0,i=(a=this.scriptEl.attributes).length;r<i;r++)(null!=(o=(e=a[r]).name.match(/^data-(.+)$/))?o[1]:void 0)&&("image"===(t=u.dashToCamelCase(o[1]))?e.value&&(c=f(e.value)):c=e.value,n=l.coerceButtonOption(t,c),s[t]=n,null==s.__originals&&(s.__originals={}),s.__originals[t]=o[0]);return s},t}(),n.exports=r}).call(this)}}),StripeCheckout.require.define({"outer/controllers/checkout":function(e,t,n){(function(){var e,r,i,o,s,a,u=function(e,t){return function(){return e.apply(t,arguments)}};s=t("lib/helpers"),i=t("outer/views/iframeView"),o=t("outer/views/tabView"),r=t("outer/views/fallbackView"),a=t("lib/tracker"),e=function(){function e(e,t,n){var r,i,o;this.shouldUseManhattan=u(this.shouldUseManhattan,this),this.isLegacyIe=u(this.isLegacyIe,this),this.invokeCallbacks=u(this.invokeCallbacks,this),this.onTokenCallback=u(this.onTokenCallback,this),this.preload=u(this.preload,this),this.open=u(this.open,this),this.createView=u(this.createView,this),this.setOnToken=u(this.setOnToken,this),this.host=t.host,this.forceManhattan=t.forceManhattan,this.forceView=t.forceView,this.forceAppType=t.forceAppType,this.opened=!1,this.setOnToken(e),this.isMobileWebView=s.isNativeWebContainer()||s.isAndroidWebapp()||s.isAndroidFacebookApp()||s.isiOSWebView()||s.isiOSBroken(),r=s.couldBeBrokenSFSVC(),o=s.isFullscreenMobileCapableViewport(),i=-1!==window.location.search.indexOf("__stripe_private_force_mobile_frame=true"),this.useFullscreenMobileView=function(){return!!i||!!o&&(r||s.isSafariStandaloneMode())},this.shouldPopup=s.isSupportedMobileOS()&&!this.isMobileWebView&&!this.useFullscreenMobileView(),this.manhattanPending=!1,this.manhattanCallbacks=[],this.shouldUseManhattan(this.createView,n)}return e.activeView=null,e.prototype.setOnToken=function(e){var t,n;return this.tokenCallback=e,this.onToken=(n=this,function(t){return e.trigger(t.token,t.args,n.onTokenCallback)}),null!=(t=this.view)?t.onToken=this.onToken:void 0},e.prototype.createView=function(e){var t,n,u;if(null==e&&(e=!1),null==this.view)return a.track.manhattanStatusSet(e),t={FallbackView:r,IframeView:i,TabView:o}[this.forceView],u=function(){switch(!1){case!t:return t;case!s.isFallback():return r;case!this.shouldPopup:return o;default:return i}}.call(this),n=(n=function(){switch(!1){case u!==r:return"/v3/fallback/4CW9sPSVJphx5OsIVs7jQ.html";case!e:return"/m/v3/index-f925604dd4aa6c77a2d874f2507bf975.html";default:return"/v3/0kKGyE0gdh2c0ou2fBLBBQ.html"}}())+"?distinct_id="+a.getDistinctID(),this.forceAppType&&(n=n+"&force_app_type="+this.forceAppType),this.view=new u(this.onToken,this.host,n),null!=this.preloadOptions?(this.view.preload(this.preloadOptions),this.preloadOptions=null):void 0},e.prototype.open=function(t){var n,r;return null==t&&(t={}),r=this,n=function(){var n;return r.opened=!0,e.activeView&&e.activeView!==r.view&&e.activeView.close(),e.activeView=r.view,t.supportsTokenCallback=r.tokenCallback.supportsTokenCallback(),n=function(){if(r.view instanceof o)return r.view=new i(r.onToken,r.host,"/v3/0kKGyE0gdh2c0ou2fBLBBQ.html"),a.track.tabOpeningError(),r.open(t)},s.isiOSChrome()&&s.iOSChromeTabViewWillFail()?n():r.view.open(t,function(e){if(!e)return n()})},this.manhattanPending?this.shouldPopup?(this.createView(),n()):this.manhattanCallbacks.push(n):n()},e.prototype.close=function(){var e;return null!=(e=this.view)?e.close():void 0},e.prototype.preload=function(e){return null!=this.view?this.view.preload(e):this.preloadOptions=e},e.prototype.onTokenCallback=function(){return this.view.triggerTokenCallback.apply(this.view,arguments)},e.prototype.invokeCallbacks=function(){var e,t,n;for(e=0,t=(n=this.manhattanCallbacks).length;e<t;e++)(0,n[e])();return this.manhattanCallbacks=[],this.manhattanPending=!1},e.prototype.isLegacyIe=function(){return!(null!=window.XMLHttpRequest&&null!=(new XMLHttpRequest).withCredentials)},e.prototype.shouldUseManhattan=function(e,t){var n,r,i,o,a,u,c,l,p;if(this.manhattanPending=!0,setTimeout((u=this,function(){return u.createView(),u.invokeCallbacks()}),3e3),s.isFallback()||this.isMobileWebView)return e(this.forceManhattan),void this.invokeCallbacks();if(null!=this.manhattanFlagState&&(e(this.manhattanFlagState),this.invokeCallbacks()),c=this,n=function(e){var t;try{return t=JSON.parse(e),!0===c.forceManhattan?c.manhattanFlagState=c.forceManhattan:c.manhattanFlagState=!!t.is_on}catch(e){return c.manhattanFlagState=!1}},this.isLegacyIe()){if("https:"!==window.location.protocol)return void e();(i=new window.XDomainRequest).onload=(p=this,function(){try{n(i.responseText),e(p.manhattanFlagState)}catch(t){e()}return p.invokeCallbacks()})}else(i=new XMLHttpRequest).onreadystatechange=(l=this,function(){if(4===i.readyState)return 200===i.status?n(i.responseText):l.manhattanFlagState=!1,e(l.manhattanFlagState),l.invokeCallbacks()});o=this.host+"/api/outer/manhattan";for(r in t)a=t[r],"token"!==r&&"opened"!==r&&"closed"!==r&&(o=s.addQueryParameter(o,r,a));return i.open("GET",o,!0),i.send()},e}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"outer/controllers/tokenCallback":function(e,t,n){(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.supportsTokenCallback=t(this.supportsTokenCallback,this),this.trigger=t(this.trigger,this),e.token&&(this.fn=e.token,this.version=1),e.source?(this.fn=e.source,this.version=1):e.onToken&&(this.fn=e.onToken,this.version=2)}return e.prototype.trigger=function(e,t,n){var r,i,o,s;if(2===this.version){r={token:e},o=null;for(i in t)s=t[i],/^shipping_/.test(i)&&(null==o&&(o={}),o[i.replace(/^shipping_/,"")]=s);return null!=o&&(r.shipping=o),this.fn(r,n)}return this.fn(e,t)},e.prototype.supportsTokenCallback=function(){return this.version>1},e}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"outer/views/fallbackView":function(e,t,n){(function(){var e,r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty;e=t("outer/lib/fallbackRpc"),i=t("outer/views/view"),r=function(t){function n(){this.triggerTokenCallback=o(this.triggerTokenCallback,this),this.close=o(this.close,this),this.open=o(this.open,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,i),n.prototype.open=function(t,r){var i,o,s;if(n.__super__.open.apply(this,arguments),o=this.host+this.path,this.frame=window.open(o,"stripe_checkout_app","width=400,height=400,location=yes,resizable=yes,scrollbars=yes"),null==this.frame)throw alert("Disable your popup blocker to proceed with checkout."),o="https://stripe.com/docs/checkout#integration-more-runloop",new Error("To learn how to prevent the Stripe Checkout popup from being blocked, please visit "+o);return this.rpc=new e(this.frame,o),this.rpc.receiveMessage((s=this,function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}return s.onToken(t)})),i=JSON.stringify(this.options),this.rpc.invokeTarget(i),r(!0)},n.prototype.close=function(){var e;return null!=(e=this.frame)?e.close():void 0},n.prototype.triggerTokenCallback=function(e){if(e)return alert(e)},n}(),n.exports=r}).call(this)}}),StripeCheckout.require.define({"outer/views/iframeView":function(e,t,n){(function(){var e,r,i,o,s,a,u=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty;a=t("outer/lib/utils"),o=t("lib/helpers"),r=t("lib/rpc"),i=t("outer/views/view"),s=t("vendor/ready"),e=function(e){function t(e,n,r){var i;this.configure=u(this.configure,this),this.removeFrame=u(this.removeFrame,this),this.removeTouchOverlay=u(this.removeTouchOverlay,this),this.showTouchOverlay=u(this.showTouchOverlay,this),this.attachIframe=u(this.attachIframe,this),this.setToken=u(this.setToken,this),this.closed=u(this.closed,this),this.close=u(this.close,this),this.preload=u(this.preload,this),this.opened=u(this.opened,this),this.open=u(this.open,this),t.__super__.constructor.apply(this,arguments),this.useFullscreenMobileIframe=o.couldBeBrokenSFSVC(),this.backButtonListener=(i=this,function(){if("temp1"===history.state)return i.frame.style.visibility="hidden",i.frame.style.display="none",i.close()})}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,i),t.prototype.open=function(e,n){return t.__super__.open.apply(this,arguments),s((r=this,function(){var e,t,i;return r.originalOverflowValue=document.body.style.overflow,r.useFullscreenMobileIframe&&(r.originalPositionValue=document.body.style.position,r.originalWidthValue=document.body.style.width,r.originalHeightValue=document.body.style.height,history.pushState("temp1",null,null),history.pushState("temp2",null,null),window.addEventListener("popstate",r.backButtonListener),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%"),null==r.frame&&r.configure(),("undefined"!=typeof $&&null!==$&&null!=(i=$.fn)?i.modal:void 0)&&$(document).off("focusin.bs.modal").off("focusin.modal"),o.isIE()&&(document.body.style.overflow="hidden"),r.frame.style.display="block",r.shouldShowTouchOverlay()&&(r.showTouchOverlay(),e=window.scrollX||window.pageXOffset,r.iframeWidth()<window.innerWidth&&(e+=(window.innerWidth-r.iframeWidth())/2),r.frame.style.top=(window.scrollY||window.pageYOffset)+"px",r.frame.style.left=e+"px"),t=!1,setTimeout(function(){if(!t)return t=!0,n(!1),r.removeFrame()},8e3),r.rpc.ready(function(){if(!t)return t=!0,n(!0),r.rpc.invoke("render","","iframe",r.options),o.isIE()&&(document.body.style.overflow="hidden"),r.rpc.invoke("open",{timeLoaded:r.options.timeLoaded})})}));var r},t.prototype.opened=function(){var e;return"function"==typeof(e=this.options).opened?e.opened():void 0},t.prototype.preload=function(e){return s((t=this,function(){return t.configure(),t.rpc.invoke("preload",e)}));var t},t.prototype.iframeWidth=function(){return o.isSmallScreen()?328:380},t.prototype.close=function(){if(this.rpc.target.window)return this.rpc.invoke("close")},t.prototype.closed=function(e){var t,n;return n=null!=this.token,document.body.style.overflow=this.originalOverflowValue,this.removeFrame(),this.useFullscreenMobileIframe&&(document.body.style.position=this.originalPositionValue,document.body.style.width=this.originalWidthValue,document.body.style.height=this.originalHeightValue,window.removeEventListener("popstate",this.backButtonListener),"temp2"===history.state?history.go(-2):"temp1"===history.state&&history.go(-1)),clearTimeout(this.tokenTimeout),n&&this.onToken(this.token),this.token=null,"function"==typeof(t=this.options).closed&&t.closed(),"error.close"===(null!=e?e.type:void 0)?alert(e.message):n?void 0:this.preload(this.options)},t.prototype.setToken=function(e){var t;return this.token=e,null==this.tokenTimeout&&(this.tokenTimeout=setTimeout((t=this,function(){return t.onToken(t.token),t.tokenTimeout=null,t.token=null}),3e3)),null},t.prototype.attachIframe=function(){var e,t;return(t=document.createElement("iframe")).setAttribute("frameBorder","0"),t.setAttribute("allowtransparency","true"),e="z-index: 2147483647;\ndisplay: none;\nbackground: transparent;\nbackground: rgba(0,0,0,0.005);\nborder: 0px none transparent;\noverflow-x: hidden;\noverflow-y: auto;\nvisibility: hidden;\nmargin: 0;\npadding: 0;\n-webkit-tap-highlight-color: transparent;\n-webkit-touch-callout: none;",this.shouldShowTouchOverlay()?e+="position: absolute;\nwidth: "+this.iframeWidth()+"px;\nheight: "+Math.max(document.body.scrollHeight,window.innerHeight)+"px;":(e+="position: fixed;\nleft: 0;\ntop: 0;\nwidth: 100%;\nheight: 100%;",this.useFullscreenMobileIframe&&(e+="overflow-x: hidden;\noverflow-y: auto;\nbackground-color: white;")),t.style.cssText=e,o.bind(t,"load",function(){return t.style.visibility="visible"}),t.src=this.host+this.path,t.className=t.name="stripe_checkout_app",a.append(document.body,t),t},t.prototype.showTouchOverlay=function(){if(!this.overlay)return this.overlay=document.createElement("div"),this.overlay.style.cssText="z-index: 2147483646;\nbackground: #000;\nopacity: 0;\nborder: 0px none transparent;\noverflow: none;\nmargin: 0;\npadding: 0;\n-webkit-tap-highlight-color: transparent;\n-webkit-touch-callout: none;\ntransition: opacity 320ms ease;\n-webkit-transition: opacity 320ms ease;\n-moz-transition: opacity 320ms ease;\n-ms-transition: opacity 320ms ease;",this.overlay.style.position="absolute",this.overlay.style.left=0,this.overlay.style.top=0,this.overlay.style.width=document.body.scrollWidth+"px",this.overlay.style.height=Math.max(document.body.scrollHeight,window.innerHeight)+"px",a.append(document.body,this.overlay),this.overlay.offsetHeight,this.overlay.style.opacity="0.5"},t.prototype.removeTouchOverlay=function(){var e;if(this.overlay)return(e=this.overlay).style.opacity="0",setTimeout(function(){return a.remove(e)},400),this.overlay=null},t.prototype.removeFrame=function(){var e;if(this.frame)return this.shouldShowTouchOverlay()&&this.removeTouchOverlay(),e=this.frame,this.useFullscreenMobileIframe&&(this.frame.style.visibility="hidden",this.frame.style.display="none"),setTimeout(function(){return a.remove(e)},500),this.frame=null},t.prototype.configure=function(){return null!=this.frame&&this.removeFrame(),this.frame=this.attachIframe(),this.rpc=new r(this.frame.contentWindow,{host:this.host}),this.rpc.methods.closed=this.closed,this.rpc.methods.setToken=this.setToken,this.rpc.methods.opened=this.opened},t.prototype.shouldShowTouchOverlay=function(){return!this.useFullscreenMobileIframe&&o.isSupportedMobileOS()},t}(),n.exports=e}).call(this)}}),StripeCheckout.require.define({"outer/views/tabView":function(e,t,n){(function(){var e,r,i,o,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty;e=t("lib/rpc"),o=t("lib/helpers"),i=t("outer/views/view"),r=function(t){function n(){this.invokeOnToken=s(this.invokeOnToken,this),this.closed=s(this.closed,this),this.checkForClosedTab=s(this.checkForClosedTab,this),this.setToken=s(this.setToken,this),this.fullPath=s(this.fullPath,this),this.close=s(this.close,this),this.open=s(this.open,this),n.__super__.constructor.apply(this,arguments),this.closedTabInterval=null,this.color=null,this.colorSet=!1,this.invokedOnToken=!1}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,i),n.prototype.open=function(t,r){var i,s,a,u,c,l;n.__super__.open.apply(this,arguments),this.token=null,this.invokedOnToken=!1;try{null!=(s=this.frame)&&s.close()}catch(e){}return"stripe_checkout_tabview"===window.name&&(window.name=""),u=o.isiOSChrome()?"_blank":"stripe_checkout_tabview",this.frame=window.open(this.fullPath(),u),this.frame||-1===(null!=(a=this.options.key)?a.indexOf("test"):void 0)||(c="https://stripe.com/docs/checkout#integration-more-runloop",console.error("Stripe Checkout was unable to open a new window, possibly due to a popup blocker.\nTo provide the best experience for your users, follow the guide at "+c+".\nThis message will only appear when using a test publishable key.")),this.frame&&this.frame!==window?("function"==typeof(i=this.frame).focus&&i.focus(),this.rpc=new e(this.frame,{host:this.host}),this.rpc.methods.setToken=this.setToken,this.rpc.methods.closed=this.closed,this.rpc.ready((l=this,function(){var e;return r(!0),l.rpc.invoke("render","","tab",l.options),l.rpc.invoke("open"),"function"==typeof(e=l.options).opened&&e.opened(),l.checkForClosedTab()}))):(this.close(),void r(!1))},n.prototype.close=function(){if(this.frame&&this.frame!==window)return this.frame.close()},n.prototype.fullPath=function(){return this.host+this.path},n.prototype.setToken=function(e){var t;return this.token=e,null==this.tokenTimeout&&(this.tokenTimeout=setTimeout((t=this,function(){return t.invokeOnToken(),t.tokenTimeout=null,t.token=null}),3e3)),null},n.prototype.checkForClosedTab=function(){return this.closedTabInterval&&clearInterval(this.closedTabInterval),this.closedTabInterval=setInterval((e=this,function(){if(!e.frame||!e.frame.postMessage||e.frame.closed)return e.closed()}),100);var e},n.prototype.closed=function(){var e;return clearInterval(this.closedTabInterval),clearTimeout(this.tokenTimeout),this.invokeOnToken(),"function"==typeof(e=this.options).closed?e.closed():void 0},n.prototype.invokeOnToken=function(){if(null!=this.token&&!this.invokedOnToken)return this.onToken(this.token),this.invokedOnToken=!0},n}(),n.exports=r}).call(this)}}),StripeCheckout.require.define({"outer/views/view":function(e,t,n){(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;e=function(){function e(e,n,r){this.triggerTokenCallback=t(this.triggerTokenCallback,this),this.open=t(this.open,this),this.onToken=e,this.host=n,this.path=r}return e.prototype.open=function(e,t){return this.options=e},e.prototype.close=function(){},e.prototype.preload=function(e){},e.prototype.triggerTokenCallback=function(){var e,t;return e=arguments,this.rpc.ready((t=this,function(){var n;return(n=t.rpc).invoke.apply(n,["tokenCallback"].concat(r.call(e)))}))},e}(),n.exports=e}).call(this)}}),function(){var e,t,n,r,i,o,s,a,u;t=(u=u||this.StripeCheckout.require)("outer/controllers/button"),e=u("outer/controllers/app"),null==(null!=(r=this.StripeCheckout)?r.__app:void 0)&&(this.StripeCheckout||(this.StripeCheckout={}),this.StripeCheckout.__app=n=new e,this.StripeCheckout.open=n.open,this.StripeCheckout.configure=n.configure,this.StripeButton=this.StripeCheckout,null!=(null!=(i=this.StripeCheckout)?i.__forceManhattan:void 0)&&n.setForceManhattan(this.StripeCheckout.__forceManhattan),null!=(null!=(o=this.StripeCheckout)?o.__forceView:void 0)&&n.setForceView(this.StripeCheckout.__forceView),null!=(null!=(s=this.StripeCheckout)?s.__forceAppType:void 0)&&n.setForceAppType(this.StripeCheckout.__forceAppType),(null!=(a=this.StripeCheckout)?a.__host:void 0)&&""!==this.StripeCheckout.__host&&n.setHost(this.StripeCheckout.__host)),t.load(this.StripeCheckout.__app)}.call(this);